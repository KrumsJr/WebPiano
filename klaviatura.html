<!DOCTYPE HTML>
<html>

<head>
    <!-- Bootstrap framework CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="tasiraklav.css">

    <meta charset="UTF-8">
    <title>klavieres?</title>
    <script src="p5/p5.js"></script>
    <script src="p5/addons/p5.sound.js"></script>
    <script src="klav.js" defer></script>
</head>

<body>
    <div class="container-sm">
        <h1 class="mt-3" id="vien">//klavieres?</h1>
        <p><a href="../index.html">laid atpakaļ!</a></p>
        <div class="klaviatura-flex-container">
            <div unselectable="true" class="klaviatura-container">
                <div class="augsina">
                    <div id="k1" onmouseover="iebrauca(1)" onmouseout="KeyUpProcessing(1)" onmousedown="KeyDwnProcessing(1)" onmouseup="KeyUpProcessing(1)">C</div>
                    <div id="k2" onmouseover="iebrauca(2)" onmouseout="KeyUpProcessing(2)" onmousedown="KeyDwnProcessing(2)" onmouseup="KeyUpProcessing(2)">
                        <div>C#</div>
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="k3" onmouseover="iebrauca(3)" onmouseout="KeyUpProcessing(3)" onmousedown="KeyDwnProcessing(3)" onmouseup="KeyUpProcessing(3)">D</div>
                    <div id="k4" onmouseover="iebrauca(4)" onmouseout="KeyUpProcessing(4)" onmousedown="KeyDwnProcessing(4)" onmouseup="KeyUpProcessing(4)">
                        <div>D#</div>
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="k5" onmouseover="iebrauca(5)" onmouseout="KeyUpProcessing(5)" onmousedown="KeyDwnProcessing(5)" onmouseup="KeyUpProcessing(5)">E</div>
                    <div id="k6" onmouseover="iebrauca(6)" onmouseout="KeyUpProcessing(6)" onmousedown="KeyDwnProcessing(6)" onmouseup="KeyUpProcessing(6)">F</div>
                    <div id="k7" onmouseover="iebrauca(7)" onmouseout="KeyUpProcessing(7)" onmousedown="KeyDwnProcessing(7)" onmouseup="KeyUpProcessing(7)">
                        <div>F#</div>
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="k8" onmouseover="iebrauca(8)" onmouseout="KeyUpProcessing(8)" onmousedown="KeyDwnProcessing(8)" onmouseup="KeyUpProcessing(8)">G</div>
                    <div id="k9" onmouseover="iebrauca(9)" onmouseout="KeyUpProcessing(9)" onmousedown="KeyDwnProcessing(9)" onmouseup="KeyUpProcessing(9)">
                        <div>G#</div>
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="k10" onmouseover="iebrauca(10)" onmouseout="KeyUpProcessing(10)" onmousedown="KeyDwnProcessing(10)" onmouseup="KeyUpProcessing(10)">A</div>
                    <div id="k11" onmouseover="iebrauca(11)" onmouseout="KeyUpProcessing(11)" onmousedown="KeyDwnProcessing(11)" onmouseup="KeyUpProcessing(11)">
                        <div>A#</div>
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="k12" onmouseover="iebrauca(12)" onmouseout="KeyUpProcessing(12)" onmousedown="KeyDwnProcessing(12)" onmouseup="KeyUpProcessing(12)">B</div>
                    <div id="k13" onmouseover="iebrauca(13)" onmouseout="KeyUpProcessing(13)" onmousedown="KeyDwnProcessing(13)" onmouseup="KeyUpProcessing(13)">C</div>
                    <div id="k14" onmouseover="iebrauca(14)" onmouseout="KeyUpProcessing(14)" onmousedown="KeyDwnProcessing(14)" onmouseup="KeyUpProcessing(14)">
                        <div>C#</div>
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="k15" onmouseover="iebrauca(15)" onmouseout="KeyUpProcessing(15)" onmousedown="KeyDwnProcessing(15)" onmouseup="KeyUpProcessing(15)">D</div>
                    <div id="k16" onmouseover="iebrauca(16)" onmouseout="KeyUpProcessing(16)" onmousedown="KeyDwnProcessing(16)" onmouseup="KeyUpProcessing(16)">
                        <div>D#</div>
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="k17" onmouseover="iebrauca(17)" onmouseout="KeyUpProcessing(17)" onmousedown="KeyDwnProcessing(17)" onmouseup="KeyUpProcessing(17)">E</div>
                </div>
                <div class="apaksina">
                    <div id="b1" onmouseover="iebrauca(1)" onmouseout="KeyUpProcessing(1)" onmousedown="KeyDwnProcessing(1)" onmouseup="KeyUpProcessing(1)">
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="b3" onmouseover="iebrauca(3)" onmouseout="KeyUpProcessing(3)" onmousedown="KeyDwnProcessing(3)" onmouseup="KeyUpProcessing(3)">
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="b5" onmouseover="iebrauca(5)" onmouseout="KeyUpProcessing(5)" onmousedown="KeyDwnProcessing(5)" onmouseup="KeyUpProcessing(5)">
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="b6" onmouseover="iebrauca(6)" onmouseout="KeyUpProcessing(6)" onmousedown="KeyDwnProcessing(6)" onmouseup="KeyUpProcessing(6)">
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="b8" onmouseover="iebrauca(8)" onmouseout="KeyUpProcessing(8)" onmousedown="KeyDwnProcessing(8)" onmouseup="KeyUpProcessing(8)">
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="b10" onmouseover="iebrauca(10)" onmouseout="KeyUpProcessing(10)" onmousedown="KeyDwnProcessing(10)" onmouseup="KeyUpProcessing(10)">
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="b12" onmouseover="iebrauca(12)" onmouseout="KeyUpProcessing(12)" onmousedown="KeyDwnProcessing(12)" onmouseup="KeyUpProcessing(12)">
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="b13" onmouseover="iebrauca(13)" onmouseout="KeyUpProcessing(13)" onmousedown="KeyDwnProcessing(13)" onmouseup="KeyUpProcessing(13)">
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="b15" onmouseover="iebrauca(15)" onmouseout="KeyUpProcessing(15)" onmousedown="KeyDwnProcessing(15)" onmouseup="KeyUpProcessing(15)">
                        <div class="freq-indicator"></div>
                    </div>
                    <div id="b17" onmouseover="iebrauca(17)" onmouseout="KeyUpProcessing(17)" onmousedown="KeyDwnProcessing(17)" onmouseup="KeyUpProcessing(17)">
                        <div class="freq-indicator"></div>
                    </div>
                </div>
            </div>
            <div class="controls-container">
                <div class="control-group">
                    <input type="number" id="baseFreq" value="440" style="width: 70px;">
                    <button onclick="chBaseFreq();">Set frequency!</button>
                </div>
                <div class="control-group">
                    <button onclick="shiftOctave(0);">&lt&lt</button>
                    <button onclick="shiftOctave(1);">Reset octave!</button>
                    <button onclick="shiftOctave(2);">&gt&gt</button>
                </div>
                <div class="control-group">
                    Wave:
                    <select id="pickWave" oninput="changeWave(this.value)">
                        <option value="sine">Sine</option>
                        <option value="triangle">Triangle</option>
                        <option value="sawtooth">Sawtooth</option>
                        <option value="square">Square</option>
                    </select>
                </div>
                <div class="control-group">
                    Temperament:
                    <input type="number" id="tetCh" value="12" style="width: 60px;">
                    <button onclick="changeTemperament(document.getElementById(`tetCh`).value);">Set!</button>
                </div>
                <div class="control-group">
                    Volume:
                    <input type="range" id="volSlider" min="0" max="1" step="0.01" value="0.2" oninput="chVol(this.value)">
                </div>
                <!--div class="control-group">
                        Arrpegiator interval:
                        <input type="text" id="arpIntervalInput" min="0" max="10000" value="500"
                        onfocus="arp.intervalInp = true;">
                        <button onclick="arp.stop()">Clear!</button>
                    </div-->
                <div class="control-group">
                    Show freq? <input type="checkbox" value="false" id="vajagRadit" oninput="toggleFreq();">
                </div>
            </div>
        </div>
        <ul class="nav nav-tabs" id="nav-tab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="nav-info-tab" data-bs-toggle="tab" data-bs-target="#nav-info" type="button" role="tab">Information</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="nav-sustain-tab" data-bs-toggle="tab" data-bs-target="#nav-sustain" type="button" role="tab">Sustain</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="nav-arpeggiator-tab" data-bs-toggle="tab" data-bs-target="#nav-arpeggiator" type="button" role="tab">Arpeggiator</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="nav-vibrato-tab" data-bs-toggle="tab" data-bs-target="#nav-vibrato" type="button" role="tab">Vibrato</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="nav-tremolo-tab" data-bs-toggle="tab" data-bs-target="#nav-tremolo" type="button" role="tab">Tremolo</button>
            </li>
        </ul>
        <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active" id="nav-info" role="tabpanel">
                <h2>Controls description</h2>
                <ul>
                    <li>
                        The synthesizer keys correspond to the a-; and w-p keys on your keyboard
                    </li>
                    <li>
                        Frequency - set the base A frequency
                    </li>
                    <li>
                        Octave
                        <ul>
                            <li>
                                Press the left or right arrows to move the keyboard octave
                            </li>
                            <li>
                                Press &quot;Reset octave!&quot; to change the octave back to default
                            </li>
                        </ul>
                    </li>
                    <li>
                        Wave - choose the wave type
                    </li>
                    <li>
                        Temperament - choose the amount of notes in an octave and press &quot;Set!&quot;
                    </li>
                    <li>
                        Volume - move the slider to change volume
                    </li>
                    <li>
                        Show freq? - display the individual frequencies of the notes on the keys
                    </li>
                    <li>
                        Hold shift to sustain notes
                    </li>
                </ul>
            </div>
            <div class="tab-pane fade" id="nav-sustain" role="tabpanel">
                <h2>Sustain</h2>
                <p>
                    Time in seconds, how long a key is sustained after release
                </p>
                Sustain <input type="number" id="susInp" value="0.25" min="0.1" step="0.05" pattern=“[0-9]+” style="width:90px;" oninput="chSusTime(this.value);">
            </div>
            <div class="tab-pane fade" id="nav-arpeggiator" role="tabpanel">
                <h2>Arpeggiator</h2>
                <p>
                    Enable caps lock for arpeggiator. It will play an arpeggio with the sustained notes.
                </p>
            </div>
            <div class="tab-pane fade" id="nav-vibrato" role="tabpanel">
                <h2>Vibrato <input type="checkbox" id="vibratoCheckbox" value="false" onchange="vibratoToggle();"></h2>
                <p>
                    Vibrato frequency
                </p>
                <input type="range" id="vibratoFreqSlider" min="0" max="20" step="0.2" value="5" onchange="chVibratoFreq();">
                <p>
                    Vibrato Amplitude
                </p>
                <input type="range" id="vibratoAmpSlider" min="0" max="100" step="1" value="10" onchange="chVibratoAmp();">

            </div>
            <div class="tab-pane fade" id="nav-tremolo" role="tabpanel">
                <h2>Tremolo <input type="checkbox" id="tremoloCheckbox" value="false" onchange="tremoloToggle();"></h2>
                <p>
                    Tremolo frequency
                </p>
                <input type="range" id="tremoloFreqSlider" min="0" max="20" step="0.2" value="5" onchange="chTremoloFreq();">
                <p>
                    Tremolo Amplitude
                </p>
                <input type="range" id="tremoloAmpSlider" min="0" max="100" step="1" value="10" onchange="chTremoloAmp();">

            </div>
        </div>
    </div>
    <footer>
        &#169; Edgars Krūmiņš
        <a href="https://github.com/KrumsJr/WebPiano" target="_blank">
            <img src="./GitHub-Mark-32px.png" alt="GitHub">
        </a>
    </footer>

    <!-- Bootstrap framwork JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
</body>

</html>